# Rspamd site build/contribute instructions

This repo is used to host the content of the [rspamd.com](https://www.rspamd.com) website. It is a static website generated by means of the `Jekyll` template system (same as for [Github Pages](https://pages.github.com/)).
The idea is to mix static pages in `markdown`, `plain html` and some content from `_posts` to make the final web page.

## Build (self-host) instructions

It is fairly easy to test this website locally. First of all, you need `git` and `jekyll` tools. Jekyll is a ruby library, so it could be installed using a `gem` tool (that is usually shipped with the `ruby` package). 
For example, for MacOS and homebrew, you just need to run something like `brew install git ruby` followed by `gem install jekyll jekyll-paginate rouge jekyll-seo-tag jekyll-sitemap`.

Here is the complete example about how to install all deps to run this site (assuming OSX and homebrew):

~~~
$ brew install git ruby
$ gem install jekyll jekyll-paginate rouge jekyll-seo-tag jekyll-sitemap
~~~

If `gem install` does not work, then your system is likely improperly configured. Linux systems might work fine with `sudo`, but OSX will not, please check the notes below.
OSX is quite special in this case: please read [the following document](https://mac.install.guide/ruby/13) about how to use the homebrew version of ruby and `gem` utility in particular.

After all deps are installed, you can clone this repo and try to serve it locally:

~~~
$ git clone https://github.com/rspamd/rspamd.com
$ cd rspamd.com
$ jekyll serve -w
~~~


If everything is fine, you should see somehow similar output:

~~~
❯ jekyll serve -w                                                                                                                                                                                                                              7.6s  Thu 15 Aug 22:23:13 2024
Configuration file: /Users/vstakhov/rspamd.com/_config.yml
            Source: /Users/vstakhov/rspamd.com
       Destination: /Users/vstakhov/rspamd.com/_site
 Incremental build: disabled. Enable with --incremental
      Generating...
                    done in 3.301 seconds.
 Auto-regeneration: enabled for '/Users/vstakhov/rspamd.com'
    Server address: http://127.0.0.1:4000
  Server running... press ctrl-c to stop.
~~~

The complete site will be available at `http://127.0.0.1:4000` as specified.

## Contribution

Please use the general practice for the `Github` repositories: fork repository, add your changes, test locally and then create a pull request. For small changes (e.g. typos or minor correctios), please feel free to use the internal Github `edit` button.
