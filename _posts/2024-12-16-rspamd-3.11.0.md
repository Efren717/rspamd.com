---
layout: post
title: "Rspamd 3.11.0 has been released"
categories: announce
---

# Rspamd 3.11 Released: Major Updates to Elasticsearch Support, New Features and Important Fixes

The Rspamd team is pleased to announce the release of Rspamd 3.11, bringing significant improvements to the spam filtering system's functionality, security, and performance.

## Major Elasticsearch/OpenSearch Modernization

The most notable change in this release is the complete rework of the Elasticsearch/OpenSearch integration. The plugin now supports Elasticsearch 8 and OpenSearch 2, featuring:

- Modern index management with automated retention policies
- Improved data organization and storage efficiency
- Updated configuration format for better clarity and control
- Enhanced compatibility with modern Elasticsearch security features

Users upgrading from previous versions should review their Elasticsearch configurations as these changes are not backward compatible.

## Enhanced Security and Performance Features

### New Ratelimiting Capabilities
The release introduces sophisticated ratelimiting mechanisms:
- LRU cache implementation for tracking recent ratelimit buckets
- New management utilities for better control over ratelimits
- Improved monitoring and administration tools via `rspamadm`

### Architectural Improvements
- Replacement of fastutf with simdutf library, providing:
  - Superior performance across different CPU architectures
  - Better support for non-x86 platforms
  - Enhanced UTF-8 processing capabilities

### Message Processing Enhancements
- New header processing controls with include/exclude logic
- Improved upstream selection with smarter address rotation
- New message anonymization tools for privacy-conscious deployments
- Addition of `rspamadm mime strip` for secure attachment handling

## Critical Fixes and Security Updates

Several important security and functionality fixes have been implemented:

- Comprehensive fixes for RFC 2047 header encoding
- Enhanced fuzzy storage security with improved dynamic key handling
- Optimized TCP connection handling with cumulative timeouts
- Strengthened DNS limit controls in SPF processing
- Reduced false positives in phishing detection
- Corrected DMARC structured headers encoding

## Web Interface Improvements

The web interface received significant usability updates:
- Redesigned symbol description system with improved hover functionality
- Enhanced keyboard navigation for accessibility
- Modernized symbol rendering system
- Improved user experience with clearer information display

## Configuration and Administration

New configuration capabilities have been added:
- Introduction of `lua.local.d` folder for better organization
- Extended configuration options for greater flexibility
- Improved documentation and examples

## Performance Optimizations

Several performance-focused improvements have been implemented:
- Optimized RBL checking logic
- Refined multimap text part processing
- Enhanced GPT module response parsing
- Improved memory management and resource utilization

## Installation and Upgrade Notes

Users upgrading to version 3.11 should:
1. Review Elasticsearch/OpenSearch configurations if using these features
2. Test existing configurations with the new header processing logic
3. Update any custom scripts that interact with ratelimiting features
4. Review the new configuration options for potential optimizations

The Rspamd team recommends testing the upgrade in a staging environment first, particularly if using the Elasticsearch integration.

## Looking Forward

This release represents a significant step forward in Rspamd's evolution, with particular focus on modern infrastructure support, security, and usability. The improvements to the Elasticsearch integration and the addition of new management tools provide a solid foundation for future enhancements.

For detailed technical information and full changelog, please visit the [Rspamd documentation](https://rspamd.com/doc/) website.
